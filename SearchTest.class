
/*
 * Copyright (c) Robert Bosch GmbH. All rights reserved.
 */
package com.bosch.test.psrc.smoketests;

import org.junit.Test;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.firefox.FirefoxOptions;
import org.openqa.selenium.remote.DesiredCapabilities;
import org.testng.annotations.AfterClass;
import org.testng.annotations.BeforeClass;

/**
 * @author NBU1KOR
 *
 */
public class SearchTests {
  
  private String baseUrl = "https://codility-frontend-prod.s3.amazonaws.com/media/task_static/qa_csharp_search/862b0faa506b8487c25a3384cfde8af4/static/attachments/reference_page.html";
  TestNgHelper helper;
  
  /**
   * driver object for webdriver
   */
  private WebDriver driver;
  
  @BeforeClass
  public void beforeClass() {

    System.setProperty("webdriver.gecko.driver", TestNgHelper.GECKO_DRIVER_LOC);
    DesiredCapabilities capabilities = new DesiredCapabilities();
    capabilities.setBrowserName("Firefox");
    FirefoxOptions firefoxOptions = new FirefoxOptions();
    firefoxOptions.setHeadless(true);
    this.driver = new FirefoxDriver(firefoxOptions);
    this.driver.get(this.baseUrl);
    
  }
  
 @Test
  public void test_searchIsla() {
    
    WebElement element = this.driver.findElement(By.id("search-input"));
    element.sendKeys("isla");
    this.driver.findElement(By.id("search-button")).click();
    WebElement element2 = this.driver.findElement(By.xpath("/html/body/div[1]/div[2]/ul/li[1]"));
    Assert.assertEquals("Isla de Muerta",element2.getText());
    Assert.assertTrue(this.driver.findElement(By.xpath("/html/body/div[1]/div[2]/ul/li[1]")).isDisplayed());
    
  }
    
    
  
  
  
  @AfterClass
  public void afterClass() {
    this.driver.quit();
  }

}
